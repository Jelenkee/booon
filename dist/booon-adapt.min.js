"use strict";!function(){let{isArray:t,from:e}=Array,{defineProperty:n,keys:o,freeze:i,entries:s}=Object;String.prototype.sw=String.prototype.startsWith;class r{constructor(s){s.options||(s.options={});const r=this;r._options=i(s),["methods","watch","options","validate"].forEach((t=>i(s[t]||{}))),r._changedAttrs=new Set,r._data=function(s,r,d){let f;s._usedAttributes={};const h=t=>{if(t.sw("_"))throw new Error("no '_'-keys")};return s._cachedData={},o(r).forEach((e=>{h(e);const o=r[e];if("function"==typeof o)return s._usedAttributes[e]=null,void n(s,e,{get:function(){return s._cachedData[e]}});const i=()=>{u(s,e,o,o),c(s)};t(o)?l(o,i):"object"==typeof o&&a(o,i),n(s,e,{set:function(n){const o=r[e],d=function(t,e,n){const o=t._options.validate;if(o&&o[e])return o[e].apply(t,[n])}(s,e,n);void 0!==d&&(d!==n&&c(s),n=d),t(n)?l(n,i):"object"==typeof n&&a(n,i),r[e]=n,o!==n&&(u(s,e,o,n),c(s))},get:function(){return f&&f.add(e),r[e]}})})),o(d).forEach((t=>{h(t),n(s,t,{get:function(){return d[t]}})})),o(s._usedAttributes).forEach((t=>{f=new Set;const n=r[t].apply(s);f.size||(s._cachedData[t]=n),s._usedAttributes[t]=e(f),f.forEach((t=>s._changedAttrs.add(t)))})),f=null,i(s._usedAttributes),r}(r,s.data||{},s.methods||{});const b=()=>{s.el instanceof Element?r._el=[s.el]:s.el instanceof NodeList||t(s.el)&&s.el.every((t=>t instanceof Element))?r._el=e(s.el):"string"==typeof s.el&&(r._el=e(document.querySelectorAll(s.el)));let n=!1;if(r._el&&0!=r._el.length&&!r._el.some((t=>t==document.body||t==document.body.parentElement))||(n=!0),!n){const t=new Set;for(const e of r._el){let n=e.parentNode;for(;n;)t.add(n),n=n.parentNode}r._el.some((e=>t.has(e)))&&(n=!0)}if(n)throw new Error("no valid el");!function(t){const n=[];function o(t){s(t)&&n.push(t),t.childNodes.forEach(o)}function i(t){const e=[];let n;for(;-1!==(n=t.lastIndexOf("."));)e.push(t.slice(n+1)),t=t.slice(0,n);return e.reverse()}function s(e){if(1==e.nodeType){const t=e.getAttributeNames();for(const n of t){if(d.includes(n)&&e.getAttribute(n))return!0;if(f.some((t=>n.sw(t))))return!0}}else if(3==e.nodeType){const n=t._options.options.startTag||"{{",o=t._options.options.endTag||"}}",i=h(n,e.textContent),s=h(o,e.textContent);if(i.length&&i.length==s.length){for(let t=0;t<i.length;t++)if(i[t]+n.length>=s[t])return!1;return!0}}}t._el.forEach(o),t._updateFunctions=n.map((n=>{const o={};if(o.node=n,1==n.nodeType){function s(e){const i=n.getAttribute(e);o.func=p(t,i),n.removeAttribute(e)}n.getAttributeNames().forEach((r=>{if(r.sw("b-bind:")||r.sw(":"))o.dir="bind",o.attribute=r.slice(r.indexOf(":")+1),"class"==o.attribute&&(o.initClass=e(n.classList)),s(r);else if("b-model"==r||r.sw("b-model.")){o.dir="model";const e=n.getAttribute(r).trim(),c=n.tagName.toLowerCase(),a=i(r);n.addEventListener(a.includes("lazy")?"change":"input",(function(){"input"==c&&"checkbox"==n.type?t[e]=this.checked:t[e]=this.value})),s(r)}else if("b-text"==r)o.dir="text",s(r);else if("b-html"==r)o.dir="html",s(r);else if("b-visible"==r)o.dir="visible",s(r);else if("b-style"==r){o.dir="style";const t=n.getAttribute("style");t&&(o.initStyle=t,o.initStyle.endsWith(";")||(o.initStyle+=";")),s(r)}else if(r.sw("b-on:")||r.sw("@")){let e=r.slice(Math.max(r.indexOf(":"),r.indexOf("@"))+1);const s=e.indexOf(".");s>=0&&(e=e.slice(0,s));const c=p(t,n.getAttribute(r),!0),a=i(r),l={once:a.includes("once"),capture:a.includes("capture")};n.addEventListener(e,(function(e){t._event=e,c.apply(t),delete t._event}),l),n.removeAttribute(r),o.func=()=>{}}}))}else{o.expression=n.textContent,o.areas={};const e=t._options.options.startTag||"{{",i=t._options.options.endTag||"}}",s=h(e,n.textContent),r=h(i,n.textContent);for(let c=0;c<r.length;c++){const a=n.textContent.substring(s[c],r[c]+i.length),l=a.slice(e.length,a.length-i.length);o.areas[a]=p(t,l)}}return o}))}(r),c(r),s.init&&s.init.apply(r)};"complete"==document.readyState?b():document.addEventListener("DOMContentLoaded",b)}}function c(e){e._timeout||(e._timeout=setTimeout((()=>{!function(e){s(e._usedAttributes).forEach((t=>{t[1].some((t=>e._changedAttrs.has(t)))&&(e._cachedData[t[0]]=e._data[t[0]].apply(e))})),e._changedAttrs.clear(),e._updateFunctions.forEach((n=>{const o=n.node,i=n.dir,r=n.attribute;if(1==o.nodeType){const s=n.func.apply(e),c=b(s);if("bind"==i){if("object"!=typeof s)o.getAttribute(r)!==c&&o.setAttribute(r,c);else if("class"==r)if(o.setAttribute(r,""),t(s))s.forEach((t=>{t&&o.classList.add(t)}));else for(const t in s)s[t]&&o.classList.add(t);n.initClass&&n.initClass.forEach((t=>o.classList.add(t)))}else if("model"==i)"input"==o.tagName.toLowerCase()&&"checkbox"==o.type?o.checked!==s&&(o.checked=s):"input"==o.tagName.toLowerCase()&&"radio"==o.type?o.checked!==(o.value==c)&&(o.checked=o.value==c):o.value!==c&&(o.value=c);else if("text"==i)o.innerText!==c&&(o.innerText=c);else if("html"==i)o.innerHTML!==c&&(o.innerHTML=c);else if("visible"==i)o.style.display=s?"":"none";else if("style"==i){o.setAttribute("style","");for(const t in s)o.style[t]=s[t];n.initStyle&&o.setAttribute("style",n.initStyle+o.getAttribute("style"))}}else if(3==o.nodeType){let t=n.expression;s(n.areas).forEach((n=>{t=t.split(n[0]).join(b(n[1].apply(e)))})),o.textContent=t}}))}(e),e._timeout=null}),20))}function a(e,i){o(e).forEach((o=>{e._data||(n(e,"_data",{writable:!0}),e._data={}),e._data.hasOwnProperty(o)||(t(e[o])?l(e[o],i):"object"==typeof e[o]&&a(e[o],i),e._data[o]=e[o],n(e,o,{set:function(n){t(n)?l(n,i):"object"==typeof n&&a(n,i),e._data[o]=n,i()},get:function(){return e._data[o]}}))}))}function l(e,o){function i(){e.forEach((e=>{t(e)?l(e,o):"object"==typeof e&&a(e,o)}))}e.custo||(["push","pop","shift","unshift","splice","sort","reverse"].forEach((t=>{n(e,t,{enumerable:!1,configurable:!1,writable:!1,value:function(...n){Array.prototype[t].apply(e,n),i(),o()}})})),e.custo=!0),i()}function u(t,e,n,o){const i=t._options.watch;i&&i[e]&&i[e].apply(t,[o,n]),t._changedAttrs.add(e)}const d=["b-text","b-html","b-visible","b-style"],f=["b-on:","@","b-bind:",":","b-model"];function h(t,e){const n=t.length;if(0==n)return[];let o,i=0,s=[];for(;(o=e.indexOf(t,i))>-1;)s.push(o),i=o+n;return s}function p(t,e,n){e=e.trim();const i=o(t._options.data||{}),s=t=>"let "+t+"=this."+t+";";let r="";i.forEach((t=>{e.includes(t)&&(r+=s(t))})),o(t._options.methods||{}).forEach((t=>{e.includes(t)&&(r+=s(t))}));let c=";";i.forEach((t=>{e.includes(t)&&(c+="if("+t+"!==this."+t+")this."+t+"="+t+";")}));let a=r+(n?"":"return ");n&&(a="const $event=this._event;"+a);if(!!(t._options.methods||{})[e]||e.endsWith(")")&&!e.sw("(")&&1==(e.match(/\)/g)||"").length&&1==(e.match(/\(/g)||"").length)if(e.endsWith(")")){const t=e.indexOf("(");a+=e.slice(0,t)+".apply(this,["+e.slice(t+1,e.length-1)+"])"}else a+=e+".apply(this"+(n?",[$event]":"")+")";else a+=e;return n&&(a+=c),new Function(a)}function b(t){return"object"==typeof t?JSON.stringify(t):t+""}window.booon||(window.booon={}),booon.adapt=function(t){return new r(t)}}();