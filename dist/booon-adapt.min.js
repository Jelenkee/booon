"use strict";!function(){let{isArray:t,from:e}=Array,{defineProperty:o,keys:s,freeze:n,entries:i}=Object;String.prototype.sw=String.prototype.startsWith;class r{constructor(o){o.options||(o.options={});const s=this;s._options=n(o),["methods","watch","options","validate"].forEach((t=>n(o[t]||{}))),s._changedAttrs=new Set,s._data=l(s,o.data||{},o.methods||{});const i=()=>{o.el instanceof Element?s._el=[o.el]:o.el instanceof NodeList||t(o.el)&&o.el.every((t=>t instanceof Element))?s._el=e(o.el):"string"==typeof o.el&&(s._el=e(document.querySelectorAll(o.el)));let n=!1;if(s._el&&0!=s._el.length&&!s._el.some((t=>t==document.body||t==document.body.parentElement))||(n=!0),!n){const t=new Set;for(const e of s._el){let o=e.parentNode;for(;o;)t.add(o),o=o.parentNode}s._el.some((e=>t.has(e)))&&(n=!0)}if(n)throw new Error("no valid el");h(s),a(s),o.init&&o.init.apply(s)};"loading"!=document.readyState?i():document.addEventListener("DOMContentLoaded",i)}}const a=t=>{t._timeout||(t._timeout=setTimeout((()=>{p(t),t._timeout=null}),20))},l=(i,r,l)=>{let p;i._usedAttributes={};const h=t=>{if(t.sw("_"))throw new Error("no '_'-keys")};return i._cachedData={},s(r).forEach((e=>{h(e);const s=r[e];if("function"==typeof s)return i._usedAttributes[e]=null,void o(i,e,{get:()=>i._cachedData[e]});const n=()=>{u(i,e,s,s),a(i)};t(s)?d(s,n):"object"==typeof s&&c(s,n),o(i,e,{set:o=>{const s=r[e],l=f(i,e,o);void 0!==l&&(l!==o&&a(i),o=l),t(o)?d(o,n):"object"==typeof o&&c(o,n),r[e]=o,s!==o&&(u(i,e,s,o),a(i))},get:()=>(p&&p.add(e),r[e])})})),s(l).forEach((t=>{h(t),o(i,t,{get:()=>l[t]})})),s(i._usedAttributes).forEach((t=>{p=new Set;const o=r[t].apply(i);p.size||(i._cachedData[t]=o),i._usedAttributes[t]=e(p),p.forEach((t=>i._changedAttrs.add(t)))})),p=null,n(i._usedAttributes),r},c=(e,n)=>{s(e).forEach((s=>{e._data||(o(e,"_data",{writable:!0}),e._data={}),e._data.hasOwnProperty(s)||(t(e[s])?d(e[s],n):"object"==typeof e[s]&&c(e[s],n),e._data[s]=e[s],o(e,s,{set:o=>{t(o)?d(o,n):"object"==typeof o&&c(o,n),e._data[s]=o,n()},get:()=>e._data[s]}))}))},d=(e,s)=>{e.custo||(["push","pop","shift","unshift","splice","sort","reverse"].forEach((t=>{o(e,t,{enumerable:!1,configurable:!1,writable:!1,value:function(...o){Array.prototype[t].apply(e,o),n(),s()}})})),e.custo=!0);const n=()=>{e.forEach((e=>{t(e)?d(e,s):"object"==typeof e&&c(e,s)}))};n()},u=(t,e,o,s)=>{const n=t._options.watch;n&&n[e]&&n[e].apply(t,[s,o]),t._changedAttrs.add(e)},f=(t,e,o)=>{const s=t._options.validate;if(s&&s[e])return s[e].apply(t,[o])},p=e=>{i(e._usedAttributes).forEach((t=>{t[1].some((t=>e._changedAttrs.has(t)))&&(e._cachedData[t[0]]=e._data[t[0]].apply(e))})),e._changedAttrs.clear(),e._updateFunctions.forEach((o=>{const s=o.node,n=o.dir,r=o.attribute;if(1==s.nodeType){const i=o.func.apply(e),a=m(i);if("attr"==n){if("object"!=typeof i)s.getAttribute(r)!==a&&s.setAttribute(r,a);else if("class"==r)if(s.setAttribute(r,""),t(i))i.forEach((t=>{t&&s.classList.add(t)}));else for(const t in i)i[t]&&s.classList.add(t);o.initClass&&o.initClass.forEach((t=>s.classList.add(t)))}else if("prop"==n&&r){const t=s[r],e="string"==typeof t?a:i;t!==e&&(s[r]=e)}else if("model"==n)"input"==s.tagName.toLowerCase()&&"checkbox"==s.type?s.checked!==i&&(s.checked=i):"input"==s.tagName.toLowerCase()&&"radio"==s.type?s.checked!==(s.value==a)&&(s.checked=s.value==a):s.value!==a&&(s.value=a);else if("visible"==n)s.style.display=i?"":"none";else if("style"==n){s.setAttribute("style","");for(const t in i)s.style[t]=i[t];o.initStyle&&s.setAttribute("style",o.initStyle+s.getAttribute("style"))}}else if(3==s.nodeType){let t=o.expression;i(o.areas).forEach((o=>{t=t.split(o[0]).join(m(o[1].apply(e)))})),s.textContent=t}}))},h=t=>{const o=[],s=e=>{(e=>{if(1==e.nodeType){const t=e.getAttributeNames();for(const o of t){if(b.includes(o)&&e.getAttribute(o))return!0;if(y.some((t=>o.sw(t))))return!0}}else if(3==e.nodeType){const o=t._options.options.startTag||"{{",s=t._options.options.endTag||"}}",n=g(o,e.textContent),i=g(s,e.textContent);if(n.length&&n.length==i.length){for(let t=0;t<n.length;t++)if(n[t]+o.length>=i[t])return!1;return!0}}})(e)&&o.push(e),e.childNodes.forEach(s)},n=t=>{const e=[];let o;for(;-1!==(o=t.lastIndexOf("."));)e.push(t.slice(o+1)),t=t.slice(0,o);return e.reverse()};t._el.forEach(s),t._updateFunctions=o.flatMap((o=>{const s=[];if(1==o.nodeType){o.getAttributeNames().forEach((i=>{const r={};r.node=o;const a=e=>{const s=o.getAttribute(e);r.func=_(t,s),o.removeAttribute(e)};if(i.sw("b-attr:")||i.sw(":"))r.dir="attr",r.attribute=i.slice(i.indexOf(":")+1),"class"==r.attribute&&(r.initClass=e(o.classList)),a(i);else if(i.sw("b-prop:")){r.dir="prop";const t=i.slice(i.indexOf(":")+1);let e=null;const s=(t=>{const e=[];do{Object.getOwnPropertyNames(t).forEach((function(t){e.includes(t)||e.push(t)}))}while(t=Object.getPrototypeOf(t));return e})(o);for(const o of s)if(t.toLowerCase()==o.toLowerCase()){e=o;break}r.attribute=e,a(i)}else if("b-model"==i||i.sw("b-model.")){r.dir="model";const e=o.getAttribute(i).trim(),s=o.tagName.toLowerCase(),l=n(i);o.addEventListener(l.includes("lazy")?"change":"input",(function(){"input"==s&&"checkbox"==o.type?t[e]=this.checked:t[e]=this.value})),a(i)}else if("b-visible"==i)r.dir="visible",a(i);else if("b-style"==i){r.dir="style";const t=o.getAttribute("style");t&&(r.initStyle=t,r.initStyle.endsWith(";")||(r.initStyle+=";")),a(i)}else if(i.sw("b-on:")||i.sw("@")){let e=i.slice(Math.max(i.indexOf(":"),i.indexOf("@"))+1);const s=e.indexOf(".");s>=0&&(e=e.slice(0,s));const a=_(t,o.getAttribute(i),!0),l=n(i),c={once:l.includes("once"),capture:l.includes("capture")};o.addEventListener(e,(e=>{t._event=e,a.apply(t),delete t._event}),c),o.removeAttribute(i),r.func=()=>{}}r.dir&&s.push(r)}))}else{const e={};e.node=o,e.expression=o.textContent,e.areas={};const n=t._options.options.startTag||"{{",i=t._options.options.endTag||"}}",r=g(n,o.textContent),a=g(i,o.textContent);for(let s=0;s<a.length;s++){const l=o.textContent.substring(r[s],a[s]+i.length),c=l.slice(n.length,l.length-i.length);e.areas[l]=_(t,c)}s.push(e)}return s}))},b=["b-visible","b-style"],y=["b-on:","@","b-attr:",":","b-model","b-prop"],g=(t,e)=>{const o=t.length;if(0==o)return[];let s,n=0,i=[];for(;(s=e.indexOf(t,n))>-1;)i.push(s),n=s+o;return i},_=(t,e,o)=>{e=e.trim();const n=s(t._options.data||{}),i=t=>"let "+t+"=this."+t+";";let r="";n.forEach((t=>{e.includes(t)&&(r+=i(t))})),s(t._options.methods||{}).forEach((t=>{e.includes(t)&&(r+=i(t))}));let a=";";n.forEach((t=>{e.includes(t)&&(a+="if("+t+"!==this."+t+")this."+t+"="+t+";")}));let l=r+(o?"":"return ");o&&(l="const $event=this._event;"+l);if(!!(t._options.methods||{})[e]||e.endsWith(")")&&!e.sw("(")&&1==(e.match(/\)/g)||"").length&&1==(e.match(/\(/g)||"").length)if(e.endsWith(")")){const t=e.indexOf("(");l+=e.slice(0,t)+".apply(this,["+e.slice(t+1,e.length-1)+"])"}else l+=e+".apply(this"+(o?",[$event]":"")+")";else l+=e;return o&&(l+=a),new Function(l)},m=t=>"object"==typeof t?JSON.stringify(t):t+"";window.booon||(window.booon={}),booon.adapt=t=>new r(t)}();