"use strict";!function(){window.booon||(window.booon={}),booon.ajax=(t,o,s)=>{let n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState){let e;try{e=t.responseConverter?t.responseConverter(this.response):this.response}catch(e){return r(e)}this.status>=200&&this.status<300?o?o(e,n):t.success&&t.success(e,n):this.status>=400&&r(e)}};const r=e=>{if(s)s(e,n);else{const o=t.error||t.fail;o&&o(e,n)}};n.ontimeout=e=>r(e),t.post&&(n.onloadend=()=>{try{t.post(n)}catch(e){r(e)}});let a=t.url||"",c=document.createElement("a");if(c.href=a,"object"==typeof t.params&&(a+=(c.search?"&":"?")+e(t.params)),n.open(t.method||"get",a,!0),n.timeout="number"==typeof t.timeout?t.timeout:0,t.pre)try{t.pre(n)}catch(e){r(e)}for(let[e,o]of Object.entries(t.headers||{}))n.setRequestHeader(e,o);let p=null;return"string"==typeof t.data?(n.setRequestHeader("Content-Type","text/plain"),p=t.data):t.data&&["URLSearchParams","FormData"].includes(t.data.constructor.name)?(n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p=t.data):"object"==typeof t.data&&(n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p=e(t.data)),n.send(p),n};const e=e=>{const t=[],o=encodeURIComponent;return Object.keys(e).forEach((s=>{const n=e[s];Array.isArray(n)?n.forEach((e=>t.push(o(s)+"="+o(e)))):t.push(o(s)+"="+o(n))})),t.join("&")};booon.get=(e,t,o)=>{e.method="get",booon.ajax(e,t,o)},booon.post=(e,t,o)=>{e.method="post",booon.ajax(e,t,o)},booon.json=(e,t,o)=>{if(e.responseConverter){const t=e.responseConverter;e.responseConverter=e=>t(JSON.parse(e))}else e.responseConverter=JSON.parse;e.dataType="json",booon.get(e,t,o)}}();